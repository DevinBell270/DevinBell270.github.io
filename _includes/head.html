<!-- Page Title -->
{% if page.url == '/' %}
<title>Devin Bell | Bowling Green, Kentucky</title>
{% else %}
<title>{{ page.title }} | Devin Bell</title>
{% endif %}

<!-- Viewport -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Meta Description -->
{% if page.description %}
<meta name="description" content="{{ page.description }}">
{% else %}
<meta name="description" content="{{ site.description }}">
{% endif %}

<!-- Content Security Policy -->
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdn.jsdelivr.net; font-src 'self' https://fonts.gstatic.com; img-src 'self' data:; connect-src 'self'; frame-ancestors 'none';">

<!-- Open Graph Meta Tags -->
{% if page.url == '/' %}
<meta property="og:title" content="Devin Bell | Bowling Green Kentucky">
{% else %}
<meta property="og:title" content="{{ page.title }} | Devin Bell">
{% endif %}
{% if page.description %}
<meta property="og:description" content="{{ page.description }}">
{% else %}
<meta property="og:description" content="{{ site.description }}">
{% endif %}
<meta property="og:url" content="{{ site.url }}{{ page.url | relative_url }}">
<meta property="og:type" content="website">

<!-- Favicons -->
<link rel="icon" type="image/x-icon" href="{{ '/assets/images/favicon/favicon.ico' | relative_url }}">
<link rel="icon" type="image/png" sizes="32x32" href="{{ '/assets/images/favicon/favicon-32x32.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="16x16" href="{{ '/assets/images/favicon/favicon-16x16.png' | relative_url }}">
<link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/images/favicon/apple-touch-icon.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="192x192" href="{{ '/assets/images/favicon/android-chrome-192x192.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="512x512" href="{{ '/assets/images/favicon/android-chrome-512x512.png' | relative_url }}">

<!-- Preconnect to external origins for faster resource loading -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://cdn.jsdelivr.net">

<!-- Main stylesheet -->
<link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}" />

<!-- Load critical fonts asynchronously with font-display: swap -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@600&family=Courier+Prime:wght@400;700&display=swap" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@600&family=Courier+Prime:wght@400;700&display=swap"></noscript>

<!-- Inline critical script to apply theme immediately and prevent FOUC -->
<script>
(function() {
  'use strict';
  try {
    var theme = localStorage.getItem('theme') || 'light';
    var validThemes = ['light', 'dark', 'wave'];
    if (!validThemes.includes(theme)) theme = 'light';
    
    // Apply theme immediately if body exists, otherwise wait for it
    function applyTheme(t) {
      if (document.body) {
        document.body.setAttribute('a', t);
      } else {
        var observer = new MutationObserver(function() {
          if (document.body) {
            document.body.setAttribute('a', t);
            observer.disconnect();
          }
        });
        observer.observe(document.documentElement, { childList: true });
      }
    }
    applyTheme(theme);
  } catch(e) {
    // Silently fail if localStorage unavailable
  }
})();
</script>

<!-- Defer KaTeX CSS loading (only loads when needed) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.css" integrity="sha384-OH8qNTHoMMVNVcKdKewlipV4SErXqccxxlg6HC9Cwjr5oZu2AdBej1TndeCirael" crossorigin="anonymous" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.css" integrity="sha384-OH8qNTHoMMVNVcKdKewlipV4SErXqccxxlg6HC9Cwjr5oZu2AdBej1TndeCirael" crossorigin="anonymous"></noscript>

